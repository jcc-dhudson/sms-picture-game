{"mappings":"AAAA,IAAIA,OAASC,EAAE,gBACf,MAAMC,QAAU,CACZC,SAAS,aACTC,QAAS,EACTC,KAAO,UACPC,OAAQ,UACRC,OAAQ,WAEZ,IAAIC,OA8CJ,SAASC,eAAeC,EAAOC,EAAKC,GAChC,MAAO,4CAA6CF,EAAQ,aAEhE,SAASG,gBAAgBH,EAAOC,EAAKC,GACjC,GAAYE,MAATJ,EACC,MAAO,4DAA6DA,EAAQ,OAGpF,SAASK,eAAeL,EAAOC,EAAKC,GAChC,MAAO,iDAAkDF,EAAQ,SAmBnE,SAASM,SAASC,GAChB,IAAIC,EAAIC,SAASC,cAAc,KAC/BF,EAAEG,KAAOJ,EACTC,EAAEI,QA3ENC,OAAOC,cAAgB,CACnB,gBAAiB,SAAUC,EAAGf,EAAOC,EAAKC,GACtCX,EAAE,2BAA2ByB,KAAK,gBAAiBf,EAAIgB,IAC9B,SAAtBhB,EAAIiB,UAAUC,MACb5B,EAAE,oBAAoB6B,KAAK,uDAE/B7B,EAAE,aAAa8B,IAAIpB,EAAIqB,OACvB/B,EAAE,eAAegC,MAAM,QACvBhC,EAAEiC,IAAI,yBAA2BvB,EAAIiB,UAAUO,WAAW,SAAST,GAC/DzB,EAAE,uBAAuBmC,KAAK,MAAOV,MAEzCzB,EAAE,aAAaoC,MACfpC,EAAE,aAAaqB,OAAM,WACjBrB,EAAEqC,KAAK,aAAe3B,EAAI4B,MAAO,CAC7Bb,KAAOc,KAAKC,UAAU,CAACT,MAAO/B,EAAE,aAAa8B,QAC7CW,YAAc,mBACdC,KAAO,SAERC,MAAK,WACJC,QAAQC,IAAInC,GACZX,OAAO+C,eAAe,mBAAoB,CACtCpB,GAAIhB,EAAIgB,GACRhB,IAAK,CACHqB,MAAO/B,EAAE,aAAa8B,MACtBiB,OAAQ,YAEd/C,EAAE,eAAegC,MAAM,cAG/BhC,EAAE,qBAAqBqB,OAAM,WACzB2B,SAAWtC,EAAI4B,MAAQ,IAAM5B,EAAIuC,kBACjClC,SAAS,uBAAyBL,EAAI4B,MAAQ,aAAeU,eAIzE1B,OAAO4B,aAAe,CAClB,eAAgB,SAAU1B,EAAGf,EAAOC,EAAKC,GACrCZ,OAAO+C,eAAe,cAAepC,EAAIyC,SAmBjDnD,GAAE,WACED,OAAO+C,eAAe,CACpBM,QAAS,kCACTC,QAAS,WAETC,QAAQ,EACRC,YAAY,EACZC,SAAS,EACTC,UAAU,EACVC,SAAU,KACVC,SAAU,WACVC,UAAW","sources":["js/submissions.js"],"sourcesContent":["var $table = $('#fresh-table')\nconst options = {\n    timeZone:\"US/Eastern\",\n    hour12 : false,\n    hour:  \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n  };\nvar sasKey\n\nwindow.operateStatus = {\n    'click .status': function (e, value, row, index) {\n        $('#scoreModal-submitScore').data('submission-id', row.id)\n        if(row.transform.kind == 'image') {\n            $('#scoreModal-body').html('<img id=\"put-thumb-uri-here\" src=\"\" width=\"100%\" />')\n        }\n        $('#newScore').val(row.score)\n        $('#scoreModal').modal('show')\n        $.get('/getsasuri?rel=thumbs/' + row.transform.thumbnail, function(data){\n            $('#put-thumb-uri-here').attr('src', data)\n        })\n        $('#setScore').off()\n        $('#setScore').click(function(){\n            $.ajax('/setscore/' + row.token, {\n                data : JSON.stringify({score: $('#newScore').val()}),\n                contentType : 'application/json',\n                type : 'POST',\n                \n            }).done(function(){\n                console.log(row)\n                $table.bootstrapTable('updateByUniqueId', {\n                    id: row.id,\n                    row: {\n                      score: $('#newScore').val(),\n                      status: 'Scored'\n                }})\n                $('#scoreModal').modal('hide')\n            })\n        })\n        $('#downloadOriginal').click(function(){\n            filename = row.token + '_' + row.original_filename\n            download('/getsasuri?download=' + row.token + '&filename=' + filename)\n        })\n    }\n}\nwindow.operateRound = {\n    'click .round': function (e, value, row, index) {\n        $table.bootstrapTable('resetSearch', row.round)\n    }\n}\n\n//\n// table formatters\n//\nfunction groupFormatter(value, row, index) {\n    return '<b><div class=\"badge bg-light text-dark\">'+ value + '</div></b>'\n}\nfunction statusFormatter(value, row, index) {\n    if(value != undefined){\n        return '<a class=\"table-action status\" href=\"javascript:void(0)\">'+ value + '</a>'\n    }\n}\nfunction roundFormatter(value, row, index) {\n    return '<div class=\"badge bg-warning text-dark round\">'+ value + '</div>'\n}\n\n$(function () {\n    $table.bootstrapTable({\n      classes: 'table table-hover table-striped',\n      toolbar: '.toolbar',\n  \n      search: true,\n      pagination: false,\n      striped: true,\n      sortable: true,\n      uniqueId: \"id\",\n      sortName: \"datetime\",\n      sortOrder: \"desc\",\n    })\n  })\n\n\n  function download(fileUrl) {\n    var a = document.createElement(\"a\");\n    a.href = fileUrl;\n    a.click();\n  }"],"names":["$table","$","options","timeZone","hour12","hour","minute","second","sasKey","groupFormatter","value","row","index","statusFormatter","undefined","roundFormatter","download","fileUrl","a","document","createElement","href","click","window","operateStatus","e","data","id","transform","kind","html","val","score","modal","get","thumbnail","attr","off","ajax","token","JSON","stringify","contentType","type","done","console","log","bootstrapTable","status","filename","original_filename","operateRound","round","classes","toolbar","search","pagination","striped","sortable","uniqueId","sortName","sortOrder"],"version":3,"file":"submissions.e0c28a31.js.map"}