{"mappings":"AACA,IAAIA,OAASC,EAAE,gBACXC,OAAS,GACb,MAAMC,QAAU,CACdC,SAAS,aACTC,QAAS,EACTC,KAAO,UACPC,OAAQ,UACRC,OAAQ,WAsDV,SAASC,eAAeC,EAAOC,EAAKC,GAChC,MAAO,kEAAkEF,EAAM,YAEnF,SAASG,cAAcH,EAAOC,EAAKC,GAEjC,OADS,IAAIE,KAAa,IAARJ,GACRK,eAAe,SAE3B,SAASC,iBAAiBN,EAAOC,EAAKC,GAEpC,OADAK,IAAMC,KAAKC,MAAMC,OAAOV,IACjB,+DAA+DO,IAAII,SAAS,IAAI,OAEzF,SAASC,gBAAgBZ,EAAOC,EAAKC,GACjC,MAAO,CACL,aAAeD,EAAIY,cAAgB,oBACnCC,KAAK,IA7DXC,OAAOC,aAAe,CACpB,kBAAmB,SAAUC,EAAGjB,EAAOC,EAAKC,GAC1CX,EAAE,qBAAqB2B,KAAKjB,EAAIkB,YAAc,UAC9C,IAAIC,EAAU,GACd,IAAKC,EAAI,EAAGA,EAAI7B,OAAO8B,OAAQD,IAC3BE,MAAQ/B,OAAO6B,GACZE,MAAMC,UAAYvB,EAAIuB,SACrBJ,GAAW,iDAAiDG,MAAME,WAAW,YAE7EL,GAAW,+EAA+EnB,EAAIyB,UAAU,oBAAoBH,MAAMC,SAAS,KAAKD,MAAME,WAAW,YAIzKlC,EAAE,oBAAoB2B,KAAKE,GAC3B7B,EAAE,gBAAgBoC,OAAM,WACpBH,SAAWjC,EAAEqC,MAAMC,KAAK,YACxBH,UAAYnC,EAAEqC,MAAMC,KAAK,aACzBtC,EAAEuC,KAAK,eAAgB,CACnBD,KAAOE,KAAKC,UAAU,CAACR,SAAYA,SAAUE,UAAaA,YAC1DO,YAAc,mBACdC,KAAO,SACRC,MAAK,WAEJ,IADAC,UAAY,GACPf,EAAI,EAAGA,EAAI7B,OAAO8B,OAAQD,IACvB7B,OAAO6B,GAAGG,UAAYA,WACtBY,UAAY5C,OAAO6B,GAAGI,YAE9BnC,OAAO+C,eAAe,mBAAoB,CACtCC,GAAIZ,UACJzB,IAAK,CACDwB,WAAYW,UACZZ,SAAUA,eAGtBjC,EAAE,eAAegD,MAAM,WAE3BhD,EAAE,eAAegD,MAAM,UAI3BhD,EAAE,UAAUoC,OAAM,eAwBlBpC,GAAE,WACAD,OAAO+C,eAAe,CACpBG,QAAS,kCACTC,QAAS,WAETC,QAAQ,EACRC,YAAY,EACZC,SAAS,EACTC,UAAU,EACVC,SAAU,YACVC,SAAU,WACVC,UAAW,YAMfzD,EAAE0D,IAAI,WAAW,SAASpB,EAAMqB,GAC5B1D,OAASqC","sources":["js/admin.js"],"sourcesContent":["\nvar $table = $('#fresh-table')\nvar groups = []\nconst options = {\n  timeZone:\"US/Eastern\",\n  hour12 : false,\n  hour:  \"2-digit\",\n  minute: \"2-digit\",\n  second: \"2-digit\"\n};\n\n\n//\n// when a check-in status message is clicked:\n//\nwindow.operateGroup = {\n  'click .setGroup': function (e, value, row, index) {\n    $('#groupModal-title').html(row.person_name + ' Group')\n    var btnHtml = ''\n    for (i = 0; i < groups.length; i++) {\n        group = groups[i]\n        if(group.group_id == row.group_id){\n            btnHtml += '<button class=\"btn btn-primary\" type=\"button\">'+group.group_name+'</button>'\n        } else {\n            btnHtml += '<button class=\"groupAssign btn btn-secondary\" type=\"button\" data-person_id=\"'+row.person_id+'\" data-group-id=\"'+group.group_id+'\">'+group.group_name+'</button>'\n        }\n        \n    }\n    $('#groupModal-body').html(btnHtml)\n    $('.groupAssign').click(function() {\n        group_id = $(this).data('group-id')\n        person_id = $(this).data('person_id')\n        $.ajax('/assigngroup', {\n            data : JSON.stringify({'group_id': group_id, 'person_id': person_id}),\n            contentType : 'application/json',\n            type : 'POST',\n        }).done(function(){\n            groupName = ''\n            for (i = 0; i < groups.length; i++) {\n                if (groups[i].group_id == group_id)\n                    groupName = groups[i].group_name\n            }\n            $table.bootstrapTable('updateByUniqueId', {\n                id: person_id,\n                row: {\n                    group_name: groupName,\n                    group_id: group_id\n                }})\n        })\n        $('#groupModal').modal('hide')\n    })\n    $('#groupModal').modal('show')\n  }\n}\n\n$('button').click(function() {\n   \n})\n\n//\n// table formatters\n//\nfunction groupFormatter(value, row, index) {\n    return '<button type=\"button\" class=\"btn btn-outline-primary setGroup\">'+value+'</button>'\n}\nfunction timeFormatter(value, row, index) {\n  var dt = new Date(value * 1000);\n  return dt.toLocaleString('en-US')\n}\nfunction sessionFormatter(value, row, index) {\n  num = Math.round(Number(value))\n  return '<a class=\"table-action setSearch\" href=\"javascript:void(0)\">'+num.toString(36)+'</a>'\n}\nfunction avatarFormatter(value, row, index) {\n    return [\n      '<img src=\"' + row.person_avatar + '\" width=\"72px\"/>'\n    ].join('')\n  }\n\n$(function () {\n  $table.bootstrapTable({\n    classes: 'table table-hover table-striped',\n    toolbar: '.toolbar',\n\n    search: true,\n    pagination: false,\n    striped: true,\n    sortable: true,\n    uniqueId: \"person_id\",\n    sortName: \"datetime\",\n    sortOrder: \"desc\",\n  })\n})\n\n\n\n$.get(\"/groups\", function(data, status){\n    groups = data\n})"],"names":["$table","$","groups","options","timeZone","hour12","hour","minute","second","groupFormatter","value","row","index","timeFormatter","Date","toLocaleString","sessionFormatter","num","Math","round","Number","toString","avatarFormatter","person_avatar","join","window","operateGroup","e","html","person_name","btnHtml","i","length","group","group_id","group_name","person_id","click","this","data","ajax","JSON","stringify","contentType","type","done","groupName","bootstrapTable","id","modal","classes","toolbar","search","pagination","striped","sortable","uniqueId","sortName","sortOrder","get","status"],"version":3,"file":"admin.1ba63b93.js.map"}