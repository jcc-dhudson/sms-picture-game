var $table=$("#fresh-table");const options={timeZone:"US/Eastern",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"};var sasKey;function groupFormatter(o,t,e){return'<b><div class="badge bg-light text-dark">'+o+"</div></b>"}function statusFormatter(o,t,e){if(null!=o)return'<a class="table-action status" href="javascript:void(0)">'+o+"</a>"}function roundFormatter(o,t,e){return'<div class="badge bg-warning text-dark round">'+o+"</div>"}function download(o){var t=document.createElement("a");t.href=o,t.click()}window.operateStatus={"click .status":function(o,t,e,a){$("#scoreModal-submitScore").data("submission-id",e.id),$("#newScore").val(e.score),$("#scoreModal").modal("show"),$.get("/getsasuri?rel=thumbs/"+e.transform.thumbnail,(function(o){$("#put-thumb-uri-here").attr("src",o),"image"==e.transform.kind?$("#scoreModal-body").html('<img  src="'+o+'" width="100%" />'):"video"==e.transform.kind&&$("#scoreModal-body").html('<video width="100%" autoplay controls><source src="'+o+'"></video>')})),$("#setScore").off(),$("#setScore").click((function(){$.ajax("/setscore/"+e.token,{data:JSON.stringify({score:$("#newScore").val()}),contentType:"application/json",type:"POST"}).done((function(){console.log(e),$table.bootstrapTable("updateByUniqueId",{id:e.id,row:{score:$("#newScore").val(),status:"Scored"}}),$("#scoreModal").modal("hide")}))})),$("#reassign").click((function(){$("#scoreModal").modal("hide"),$("#reassignModal-title").html("Reassigning "+e.person_name+"'s submission");var o="";for(i=0;i<groups.length;i++)group=groups[i],group.group_id==e.group_id?o+='<button class="btn btn-primary" type="button">'+group.group_name+"</button>":o+='<button class="groupAssign btn btn-secondary" type="button" data-group-name="'+group.group_name+'" data-group-id="'+group.group_id+'">'+group.group_name+"</button>";$("#reassignModal-body").html(o),$("#reassignModal").modal("show"),$(".groupAssign").click((function(){group_id=$(this).data("group-id"),group_name=$(this).data("group-name"),$.ajax("/reassign/"+e.token,{data:JSON.stringify({group_id:group_id,group_name:group_name}),contentType:"application/json",type:"PATCH"}).done((function(){console.log(e.id),$table.bootstrapTable("updateByUniqueId",{id:e.id,row:{group_name:group_name,group_id:group_id}}),$("#reassignModal").modal("hide")}))}))})),$("#downloadOriginal").click((function(){filename=e.token+"_"+e.original_filename,download("/getsasuri?download="+e.token+"&filename="+filename)}))}},window.operateRound={"click .round":function(o,t,e,a){$table.bootstrapTable("resetSearch",e.round)}},$((function(){$table.bootstrapTable({classes:"table table-hover table-striped",toolbar:".toolbar",search:!0,pagination:!1,striped:!0,sortable:!0,uniqueId:"id",sortName:"datetime",sortOrder:"desc"})}));
//# sourceMappingURL=submissions.830cad0f.js.map
